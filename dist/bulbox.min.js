"use strict";const bulbox={alert:_alert,dialog:_dialog,confirm:_confirm,dismiss:__killDialog,options:{title:void 0,body:void 0,buttons:{confirm:{text:"Okay",color:"is-primary",cb:void 0},dismiss:void 0},size:"lg",bodyIsHtml:!1,animation:"appear"},getAnimation:function(){var e="",t="";switch(this.options.animation){case"appear":e="appear",t="disappear";break;case"zoom":e="zoomIn",t="zoomOut";break;case"flip":e="flipInY",t="flipOutY";break;default:e="appear",t="disappear"}return{in:e,out:t}}};function _alert(e){if(!e)e={};e.title||(e.title="Alert!"),__buildDialog(e)}function _dialog(e){void 0===e.bodyIsHtml&&(e.bodyIsHtml=!0),__buildCustomDialog(e)}function _confirm(e){e&&!e.title&&(e.title="Please Confirm"),__buildDialog(e)}function __buildDialog({title:e,body:t,buttons:i,callback:n,size:o,bodyIsHtml:d}){var a=window.bulbox.getAnimation();const s=document.createElement("div");s.className="modal is-active",s.id="bulbox-diag-"+__newId();const l=document.createElement("div");l.className="modal-background "+a.in;const c=document.createElement("div");"sm"===o&&(c.style="width: 400px"),c.className="modal-card "+a.in;const m=document.createElement("div");m.className="modal-card-head";const r=document.createElement("p");r.className="modal-card-title",r.innerText=e;const u=document.createElement("button");u.className="delete",u.setAttribute("onclick",`window.bulbox.dismiss('${s.id}')`),m.appendChild(r),m.appendChild(u);const b=document.createElement("section");t&&(b.className="modal-card-body",d?(console.log("body is",t),b.innerHTML=t[0].innerHTML):b.innerText=t);const p=document.createElement("footer");if(p.className="modal-card-foot justify-space-between",i){if(i.dismiss){const e=document.createElement("button");e.className="button "+i.dismiss.color,e.innerText=i.dismiss.text,e.addEventListener("click",((e,t)=>{window.bulbox.dismiss(s.id),n(!1)})),p.appendChild(e)}if(i.confirm){const e=document.createElement("button");let t="button "+i.confirm.color;i.dismiss||(t+=" is-fullwidth"),e.style="margin-left: auto",e.className=t,e.innerText=i.confirm.text,e.addEventListener("click",((e,t)=>{window.bulbox.dismiss(s.id),n(!0)})),p.appendChild(e)}}c.appendChild(m),c.appendChild(b),c.appendChild(p),s.appendChild(l),s.appendChild(c),document.body.append(s)}function __buildCustomDialog({body:e,size:t,title:i,buttons:n,callback:o}){var d=window.bulbox.getAnimation();const a=document.createElement("div");a.className="modal is-active",a.id="bulbox-diag-"+__newId();const s=document.createElement("div");s.className="modal-background "+d.in;const l=document.createElement("div");t&&"sm"===t&&(l.style="width: 400px"),l.className="modal-card "+d.in;const c=document.createElement("div");c.className="modal-card-head";const m=document.createElement("p");m.className="modal-card-title is-size-5",m.innerText=i;const r=document.createElement("button");if(r.className="delete",r.setAttribute("onclick",`window.bulbox.dismiss('${a.id}')`),c.appendChild(m),c.appendChild(r),l.innerHTML=e[0].innerHTML,l.prepend(c),n){const e=document.createElement("footer");if(e.className="modal-card-foot justify-space-between",n){if(n.dismiss){const t=document.createElement("button");t.className="button "+n.dismiss.color,t.innerText=n.dismiss.text,t.addEventListener("click",((e,t)=>{window.bulbox.dismiss(a.id),o&&o(!1)})),e.appendChild(t)}if(n.confirm){const t=document.createElement("button");let i="button "+n.confirm.color;!n.dismiss&&n.confirm.size&&"sm"!==n.confirm.size&&(i+=" is-fullwidth"),t.style="margin-left: auto",t.className=i,t.innerText=n.confirm.text,t.addEventListener("click",((e,t)=>{window.bulbox.dismiss(a.id),o&&o(!0)})),e.appendChild(t)}}l.appendChild(e)}a.appendChild(s),a.appendChild(l),document.body.append(a)}function __killDialog(e){var t=window.bulbox.getAnimation();const i=document.querySelector("#"+e);i.firstElementChild.className="modal-background "+t.out,i.lastElementChild.className="modal-card "+t.out,setTimeout((()=>{i.parentNode.removeChild(i),bulbox.options={title:void 0,body:void 0,buttons:{confirm:{text:"Okay",color:"is-primary",cb:void 0},dismiss:void 0},size:"lg",bodyIsHtml:!1,animation:"appear"}}),400)}function __newId(){return"xxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}window.bulbox=bulbox;
